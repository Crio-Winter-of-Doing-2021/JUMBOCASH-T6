(this["webpackJsonpcashflow-manager-ui"]=this["webpackJsonpcashflow-manager-ui"]||[]).push([[0],{125:function(e,t,a){e.exports=a.p+"static/media/login_banner.e0f421ab.svg"},137:function(e,t,a){e.exports=a.p+"static/media/upi.b6b34cb5.png"},138:function(e,t,a){e.exports=a.p+"static/media/cash.d3e786a7.png"},139:function(e,t,a){e.exports=a.p+"static/media/debit_card.69c6de74.png"},140:function(e,t,a){e.exports=a.p+"static/media/credit_card.08340871.png"},142:function(e,t,a){e.exports=a.p+"static/media/error_404.f36c3ba3.svg"},146:function(e,t,a){e.exports=a(234)},155:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},187:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),o=a.n(l),c=a(38),i=a(14),s=a(6),u=a(20),d=a(124),m=a(105),p=a.n(m),E=a(8),f=a(125),b=a.n(f),y=a(76),v=a.n(y),g=a(83),h=a.n(g),O=a(33),T="https://jumbocash-dev.herokuapp.com/api",S=[{label:"Cash",value:"CASH"},{label:"Debit Card",value:"DEBIT_CARD"},{label:"Credit Card",value:"CREDIT_CARD"},{label:"UPI",value:"UPI"}],N={CASH:"Cash",DEBIT_CARD:"Debit Card",CREDIT_CARD:"Credit Card",UPI:"UPI"},A=[{label:"Paid",value:"PAID"},{label:"Not Paid",value:"NOT_PAID"}],I={PAID:"Paid",NOT_PAID:"Not Paid"},_=[{label:"Sales",value:"SALES"},{label:"Purchase",value:"PURCHASE"},{label:"Employee",value:"EMPLOYEE"},{label:"Tax",value:"TAX"},{label:"Asset Liquidation",value:"ASSET_LIQUIDATION"}],j={SALES:"Sales",PURCHASE:"Purchase",EMPLOYEE:"Employee",TAX:"Tax",ASSET_LIQUIDATION:"Asset Liquidation"},C=[{label:"Weeks",value:"week"},{label:"Months",value:"month"},{label:"Quarters",value:"quarter"},{label:"Years",value:"year"}],w={Amount:"amount",Category:"category",Entity:"entityId","Payment Mode":"paymentMode","Payment Status":"paymentStatus","Time of Transaction":"time"},L={amount:0,time:Date.now(),paymentStatus:"",paymentMode:"",category:"",entityId:"",remarks:""},D={name:"",address:"",contact:""},k=(a(155),Object(u.d)(i.g,Object(s.b)((function(e){return{auth:e.auth}})))((function(e){return e.auth.isAuthenticated?r.a.createElement(i.a,{to:"/"}):r.a.createElement("div",{className:"p-d-flex p-jc-center p-ai-center bg-green-gradient h-100"},r.a.createElement(O.Card,null,r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col-12 p-md-6 p-lg-6 p-d-flex p-flex-column p-jc-center p-ai-center"},r.a.createElement("img",{src:h.a,onError:function(e){return e.target.src=v.a},alt:"flowex logo",width:"100"}),r.a.createElement("h1",null,"Hello"," ",r.a.createElement("span",{role:"img","aria-label":"Hello"},"\ud83d\udc4b")," ","Welcome to ",r.a.createElement("span",{className:"text-primary"},"Flowex"),"."),r.a.createElement("h2",null,"Please, login to continue"),r.a.createElement("a",{className:"p-button p-button-rounded p-mb-4 login-btn-google",href:"https://jumbocash-dev.herokuapp.com/api/auth/google"},r.a.createElement("i",{className:"pi pi-google p-mr-2"}),"Login with Google")),r.a.createElement("div",{className:"p-col-12 p-md-6 p-lg-6"},r.a.createElement("img",{src:b.a,onError:function(e){return e.target.src=v.a},alt:"login banner",width:"500"})))))}))),x=a(126),U=a(127),F=a(144),M=a(143),P=function(e){var t=function(t){Object(F.a)(n,t);var a=Object(M.a)(n);function n(){return Object(x.a)(this,n),a.apply(this,arguments)}return Object(U.a)(n,[{key:"componentDidMount",value:function(){this.shouldNavigateAway()}},{key:"componentDidUpdate",value:function(){this.shouldNavigateAway()}},{key:"shouldNavigateAway",value:function(){this.props.auth.isAuthenticated||this.props.history.push("/login")}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),n}(n.Component);return Object(s.b)((function(e){return{auth:e.auth}}))(t)},R=a(128),G=a(4),Y=a.n(G),V=a(7),H=a(12),B=a.n(H),q=function(e){return function(){var t=Object(V.a)(Y.a.mark((function t(a,n){var r,l,o,c,i,s,u,d;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"USER_UPDATE_LOADING"}),t.prev=1,l=$(n),t.next=5,B.a.patch(T+"/user/me",e,l);case 5:o=t.sent,E.b.success("\u2705 User info updated successfully."),a({type:"USER_UPDATE_SUCCESS",payload:{user:null===o||void 0===o||null===(r=o.data)||void 0===r?void 0:r.data}}),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(1),d=(null===t.t0||void 0===t.t0||null===(c=t.t0.response)||void 0===c||null===(i=c.data)||void 0===i?void 0:i.message)||"",E.b.error("\u274c Failed to update user info. "+d),a({type:"USER_UPDATE_FAIL",payload:{error:null===t.t0||void 0===t.t0||null===(s=t.t0.response)||void 0===s||null===(u=s.data)||void 0===u?void 0:u.message}});case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,a){return t.apply(this,arguments)}}()};function W(){document.cookie.split(";").forEach((function(e){var t=e.indexOf("="),a=t>-1?e.substr(0,t):e;document.cookie=a+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}))}var $=function(e){var t=e().auth.token,a={headers:{"Content-type":"application/json"}};return t&&(a.headers["x-auth-token"]=t),a},z=a(23),X=a(129),J=function(e){return e&&e.trim()?e.split(" ").reduce((function(e,t){return"".concat(e).concat(t[0]?t[0].toUpperCase():"")}),""):"U"},Q=a(28),Z=function(e){var t=e.onLogOut,a=e.redirectToUserPage;return r.a.createElement("div",null,r.a.createElement(z.Button,{label:"My Profile",icon:"pi pi-user",className:"p-button-text",onClick:a}),r.a.createElement(Q.Divider,null),r.a.createElement(z.Button,{label:"Logout",icon:"pi pi-power-off",className:"p-button-text p-button-danger",onClick:t}))},K=Object(u.d)(i.g,Object(s.b)((function(e){return{auth:e.auth}}),{logOutUser:function(e){return function(){var t=Object(V.a)(Y.a.mark((function t(a){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("logging out"),t.prev=1,W(),t.next=5,B.a.get(T+"/auth/logout");case 5:a({type:"LOGOUT_SUCCESS"}),e&&e.push("/login"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"LOGOUT_FAIL"});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}}))((function(e){var t,a=e.auth,l=e.logOutUser,o=e.history,i=Object(n.useRef)(null),s=[{label:"Dashboard",template:function(e,t){return r.a.createElement(c.c,{exact:!0,className:"p-menuitem-link",activeClassName:"active-link",to:"/"},r.a.createElement("span",{className:"p-menuitem-icon pi pi-fw pi-chart-line"}),r.a.createElement("span",{className:"p-menuitem-text"},"Dashboard"))}}],u=r.a.createElement("img",{alt:"logo",src:h.a,onError:function(e){return e.target.src="https://www.primefaces.org/wp-content/uploads/2020/05/placeholder.png"},height:"40",className:"p-mr-2"}),d=r.a.createElement(z.Button,{label:J(null===a||void 0===a||null===(t=a.user)||void 0===t?void 0:t.name),className:"p-button-secondary p-button-raised p-p-2",onClick:function(e){return i.current.toggle(e)},"aria-haspopup":!0,"aria-controls":"overlay_panel"});return r.a.createElement("div",null,r.a.createElement("div",{className:"card"},r.a.createElement(R.Menubar,{model:s,start:u,end:d})),r.a.createElement(X.OverlayPanel,{ref:i,dismissable:!0},r.a.createElement(Z,{onLogOut:function(e){e.preventDefault(),l(o)},redirectToUserPage:function(){o.push("/user")}})))})),ee=(a(179),function(){return r.a.createElement("div",{className:"footer p-d-flex p-jc-center p-ai-center"},r.a.createElement("span",null,"\xa9 Flowex 2021"))}),te=(a(180),function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(K,null),r.a.createElement("div",{className:"container"},t),r.a.createElement(ee,null))}),ae=a(29),ne=function(){return r.a.createElement("p",null,"Welcome guest! You are not authenticated to access this page. Please"," ",r.a.createElement(c.b,{className:"bold",to:"/login"},"Log in")," ","or"," ",r.a.createElement(c.b,{className:"bold",to:"/register"},"Register"," "),"to continue.")},re=function(){return r.a.createElement(ae.Message,{severity:"warn",content:ne,style:{display:"block"}})},le=a(15),oe=a(75),ce=a(1),ie=a(40),se=a(16),ue=function(e,t){var a=function(e){return e.reduce((function(e,t){var a=new Date(t.startTime).toISOString();return e[a]=e[a]?e[a]+Number(t.totalAmount):Number(t.totalAmount),e}),{})},n=e.current,r=n.inflow,l=n.outflow,o=a(r.components),c=a(l.components),i=a(e.pending.inflow.components),s=a(e.pending.outflow.components),u=Array.from(new Set([].concat(Object(ie.a)(Object.keys(o)),Object(ie.a)(Object.keys(c)),Object(ie.a)(Object.keys(i)),Object(ie.a)(Object.keys(s))))).sort(),d=u.map((function(e){return o[e]||0})),m=u.map((function(e){return c[e]||0})),p=u.map((function(e){return i[e]||0})),E=u.map((function(e){return s[e]||0}));return{labels:u,inflowValues:d,outflowValues:m,pendingInflowValues:p,pendingOutflowValues:E}},de=function(e,t){var a=function(e){return e.reduce((function(e,t){return e[t.entityId]=e[t.entityId]?e[t.entityId]+Number(t.totalAmount):Number(t.totalAmount),e}),{})},n=function(e){var t=e.inflow,n=e.outflow,r=a(t.components),l=a(n.components);return{inflowLabels:Object.keys(r),inflowValues:Object.values(r),outflowLabels:Object.keys(l),outflowValues:Object.values(l)}},r=n(e.pending),l=r.inflowLabels,o=r.inflowValues,c=r.outflowLabels,i=r.outflowValues;return Object(ce.a)(Object(ce.a)({},n(e.current)),{},{pendingInflowLabels:l,pendingInflowValues:o,pendingOutflowLabels:c,pendingOutflowValues:i})},me=function(e){var t=e.current.inflow.totalAmount,a=e.current.outflow.totalAmount,n=e.pending.inflow.totalAmount,r=e.pending.outflow.totalAmount,l=t+n,o=a+r;return{totalInflow:l,totalOutflow:o,pendingInflow:n,pendingOutflow:r,totalTransactions:l+o}},pe=a(133),Ee=a(67),fe=a(134),be=function(e){return r.a.createElement(fe.ProgressSpinner,{className:"p-d-flex p-jc-center p-ai-center loader-container"})},ye=(a(187),Object(s.b)((function(e){return{analytics:e.cashflowAnalytics}}),{getCashflowAnalytics:function(e){return function(){var t=Object(V.a)(Y.a.mark((function t(a,n){var r,l,o,c,i,s;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"GET_CASHFLOW_ANALYTICS_LOADING"}),t.prev=1,l=$(n),t.next=5,B.a.post(T+"/analytics/cashflow",{time:{from:e[0],to:e[1]}},l);case 5:o=t.sent,c=me(null===o||void 0===o||null===(r=o.data)||void 0===r?void 0:r.analytics),a({type:"GET_CASHFLOW_ANALYTICS_SUCCESS",payload:{analytics:c}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:"GET_CASHFLOW_ANALYTICS_FAIL",payload:{error:(null===t.t0||void 0===t.t0||null===(i=t.t0.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)||"Failed to fetch chart data"}});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,a){return t.apply(this,arguments)}}()}})((function(e){var t=e.getCashflowAnalytics,a=e.analytics,l=a.isCashflowAnalyticsLoading,o=a.cashflowAnalytics,c=a.cashflowAnalyticsError,i=oe(),s=Object(n.useState)([new Date(i.subtract(1,"years")),new Date]),u=Object(le.a)(s,2),d=u[0],m=u[1];Object(n.useEffect)((function(){l||t(d)}),[]);return r.a.createElement(O.Card,{title:"Cashflow Summary",className:"cashflow-summary h-100"},r.a.createElement("div",{className:"p-d-flex p-jc-end"},r.a.createElement(Ee.Calendar,{id:"dateRange",selectionMode:"range",monthNavigator:!0,yearNavigator:!0,yearRange:"2010:".concat((new Date).getFullYear()),value:d,onChange:function(e){return a=e.value,m(a),void(!l&&a[0]&&a[1]&&t(a));var a},showIcon:!0})),l?r.a.createElement(be,null):c?r.a.createElement(ae.Message,{severity:"error",content:r.a.createElement("p",null,c),className:"p-text-center",style:{display:"block"}}):o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"p-mt-0",style:{color:"grey"}},"Total Transaction Amount - $",o.totalTransactions),r.a.createElement(pe.ProgressBar,{showValue:!1,color:"#95e597",value:o.totalInflow/o.totalTransactions*100}),r.a.createElement(Q.Divider,null),r.a.createElement("div",{className:"p-grid p-text-bold p-my-3"},r.a.createElement("div",{className:"p-col"},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col"},r.a.createElement("div",{style:{color:"#95e597"}},"Total Inflow "),r.a.createElement("div",null,"$",o.totalInflow)),r.a.createElement("div",{className:"p-col"},r.a.createElement("div",{style:{color:"#76cc79"}},"Pending Inflow "),r.a.createElement("div",null,"$",o.pendingInflow)))),r.a.createElement(Q.Divider,{layout:"vertical"}),r.a.createElement("div",{className:"p-col"},r.a.createElement("div",{className:"p-grid"},r.a.createElement("div",{className:"p-col"},r.a.createElement("div",{style:{color:"#f3c287"}},"Total Outflow"),r.a.createElement("div",null,"$",o.totalOutflow)),r.a.createElement("div",{className:"p-col"},r.a.createElement("div",{style:{color:"#f18a53"}},"Pending Outflow"),r.a.createElement("div",null,"$",o.pendingOutflow)))))))}))),ve=a(92),ge=a(93),he=Object(s.b)((function(e){return{analytics:e.entityAnalytics,entity:e.entity}}),{getEntityAnalytics:function(e){return function(){var t=Object(V.a)(Y.a.mark((function t(a,n){var r,l,o,c,i,s;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"GET_ENTITY_ANALYTICS_LOADING"}),t.prev=1,l=$(n),t.next=5,B.a.post(T+"/analytics/entity",{time:{from:e[0],to:e[1]}},l);case 5:o=t.sent,c=de(null===o||void 0===o||null===(r=o.data)||void 0===r?void 0:r.analytics),a({type:"GET_ENTITY_ANALYTICS_SUCCESS",payload:{analytics:c}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:"GET_ENTITY_ANALYTICS_FAIL",payload:{error:(null===t.t0||void 0===t.t0||null===(i=t.t0.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)||"Failed to fetch chart data"}});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,a){return t.apply(this,arguments)}}()}})((function(e){var t=e.getEntityAnalytics,a=e.analytics,l=a.isEntityAnalyticsLoading,o=a.entityAnalytics,c=a.entityAnalyticsError,i=e.entity,s=i.entitiesMap,u=i.isLoading,d=oe(),m=Object(n.useState)([new Date(d.subtract(1,"years")),new Date]),p=Object(le.a)(m,2),E=p[0],f=p[1],b=Object(n.useState)("PAID"),y=Object(le.a)(b,2),v=y[0],g=y[1];Object(n.useEffect)((function(){l||t(E)}),[]);var h=function(e){var t=1/e.length;return e.map((function(e,a){return"rgba(76,175,80,".concat(1-a*t,")")}))},T=r.a.createElement("div",null,r.a.createElement("div",null,"Payment Status"),r.a.createElement("div",{className:"p-d-flex p-mt-1",style:{fontSize:"0.9rem"}},A.map((function(e){return r.a.createElement("span",{key:e.value},r.a.createElement(ge.RadioButton,{inputId:e.value,value:e.value,name:e.label,onChange:function(e){return t=e.value,void g(t);var t},checked:v===e.value}),r.a.createElement("label",{htmlFor:e.value,className:"p-p-1"},e.label))}))));return r.a.createElement(O.Card,{title:"Top Vendors/Customers",className:"h-100"},r.a.createElement("div",{className:"p-d-flex p-jc-between p-mb-3"},T,r.a.createElement(Ee.Calendar,{id:"dateRange",selectionMode:"range",monthNavigator:!0,yearNavigator:!0,yearRange:"2010:".concat((new Date).getFullYear()),value:E,onChange:function(e){return a=e.value,f(a),void(!l&&a[0]&&a[1]&&t(a));var a},showIcon:!0})),l||u?r.a.createElement(be,null):c?r.a.createElement(ae.Message,{severity:"error",content:r.a.createElement("p",null,c),className:"p-text-center",style:{display:"block"}}):o&&r.a.createElement(ve.Chart,{type:"doughnut",data:function(){var e="PAID"===v?null===o||void 0===o?void 0:o.inflowLabels:null===o||void 0===o?void 0:o.pendingInflowLabels,t="PAID"===v?null===o||void 0===o?void 0:o.inflowValues:null===o||void 0===o?void 0:o.pendingInflowValues;return{labels:(null===e||void 0===e?void 0:e.map((function(e){var t;return null===(t=s[e])||void 0===t?void 0:t.name})))||[],datasets:[{data:t||[],backgroundColor:h(e||[])}]}}(),options:{legend:{position:"right"}}}))})),Oe=Object(s.b)((function(e){return{analytics:e.analytics}}),{getTrends:function(e){return function(){var t=Object(V.a)(Y.a.mark((function t(a,n){var r,l,o,c,i,s;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"GET_TRENDS_LOADING"}),t.prev=1,l=$(n),t.next=5,B.a.post(T+"/analytics/trend",{interval:e},l);case 5:o=t.sent,c=ue(null===o||void 0===o||null===(r=o.data)||void 0===r?void 0:r.analytics),a({type:"GET_TRENDS_SUCCESS",payload:{analytics:c}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a({type:"GET_TRENDS_FAIL",payload:{error:(null===t.t0||void 0===t.t0||null===(i=t.t0.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)||"Failed to fetch chart data"}});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,a){return t.apply(this,arguments)}}()}})((function(e){var t=e.getTrends,a=e.analytics,l=a.isTrendsLoading,o=a.trends,c=a.trendsError,i=Object(n.useState)("week"),s=Object(le.a)(i,2),u=s[0],d=s[1];Object(n.useEffect)((function(){l||t(u)}),[]);var m={labels:(null===o||void 0===o?void 0:o.labels)||[],datasets:[{type:"bar",label:"Outflow",backgroundColor:"#f3c287",data:(null===o||void 0===o?void 0:o.outflowValues)||[],stack:0},{type:"bar",label:"Inflow",backgroundColor:"#95e597",data:(null===o||void 0===o?void 0:o.inflowValues)||[],stack:1},{type:"bar",label:"Pending-Outflow",backgroundColor:"#f18a53",data:(null===o||void 0===o?void 0:o.pendingOutflowValues)||[],stack:0},{type:"bar",label:"Pending-Inflow",backgroundColor:"#76cc79",data:(null===o||void 0===o?void 0:o.pendingInflowValues)||[],stack:1}]},p={scales:{bounds:"data",xAxes:[{type:"time",time:{unit:"quarter"===u?"quarter":"",tooltipFormat:"week"===u?"DD MMM YY":"year"===u?"YYYY":"MMM YY"},ticks:{source:"labels"},offset:!0,stacked:!0}]}},E=r.a.createElement("div",{className:"p-d-flex p-jc-between p-mb-3",style:{fontSize:"0.95rem"}},r.a.createElement("span",null,"Last 6"),C.map((function(e){return r.a.createElement("span",{key:e.value},r.a.createElement(ge.RadioButton,{inputId:e.value,value:e.value,name:e.label,onChange:function(e){return a=e.value,void(l||a===u||(d(a),t(a)));var a},checked:u===e.value}),r.a.createElement("label",{htmlFor:e.value},e.label))})));return r.a.createElement(O.Card,{title:"Transactions Trend",className:"h-100"},E,l?r.a.createElement(be,null):c?r.a.createElement(ae.Message,{severity:"error",content:r.a.createElement("p",null,c),className:"p-text-center",style:{display:"block"}}):o&&r.a.createElement(ve.Chart,{type:"bar",data:m,options:p}))})),Te=a(135),Se=function(e){return function(){var t=Object(V.a)(Y.a.mark((function t(a,n){var r,l,o,c,i;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"ADD_ENTITY_LOADING"}),t.prev=1,r=$(n),t.next=5,B.a.post(T+"/entity",e,r);case 5:l=t.sent,E.b.success("\u2705 Entity Added Successfully"),a({type:"ADD_ENTITY_SUCCESS",payload:{entity:l.data.entity}}),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(1),i=(null===t.t0||void 0===t.t0||null===(o=t.t0.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.errorMessage)||"",E.b.error("\u274c Failed to add entity. "+i),a({type:"ADD_ENTITY_FAIL",payload:{error:i}});case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,a){return t.apply(this,arguments)}}()},Ne=function(){return function(){var e=Object(V.a)(Y.a.mark((function e(t,a){var n,r,l,o,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_ENTITIES_LOADING"}),e.prev=1,n=$(a),e.next=5,B.a.get(T+"/entity",n);case 5:r=e.sent,t({type:"GET_ENTITIES_SUCCESS",payload:{entities:r.data.data}}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),c=null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.errorMessage,t({type:"GET_ENTITIES_FAIL",payload:{error:c}});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()},Ae=a(94),Ie=a(32),_e=a(136),je=a(95),Ce=a(137),we=a.n(Ce),Le=a(138),De=a.n(Le),ke=a(139),xe=a.n(ke),Ue=a(140),Fe=a.n(Ue),Me=(a(222),se.c({amount:se.b().moreThan(0,"Amount cannot be 0"),time:se.a().required("Date/Time cannot be empty"),paymentStatus:se.d().oneOf(A.map((function(e){return e.value})),"Invalid Payment Type").required("Payment Status cannot be left unselected"),paymentMode:se.d().oneOf(S.map((function(e){return e.value})),"Invalid Payment Mode").required("Payment Mode cannot be left unselected"),category:se.d().oneOf(_.map((function(e){return e.value})),"Invalid Category").required("Category cannot be left unselected"),entityId:se.d().required("Entity cannot be left unselected"),remarks:se.d()})),Pe={UPI:we.a,CASH:De.a,DEBIT_CARD:xe.a,CREDIT_CARD:Fe.a},Re=function(e){var t=e.paymentMode;return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{alt:t,src:Pe[t],onError:function(e){return e.target.src=v.a},className:"va-mid",width:30}),r.a.createElement("span",{className:"p-ml-2 va-mid"},N[t]))},Ge=function(e){var t=e.paymentStatus;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"payment-status-badge status-".concat(t)},I[t]))},Ye=Object(s.b)((function(e){return{transaction:e.transaction,entity:e.entity}}),{getTransactions:function(){return function(){var e=Object(V.a)(Y.a.mark((function e(t,a){var n,r,l,o,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"GET_TRANSACTIONS_LOADING"}),e.prev=1,n=$(a),e.next=5,B.a.get(T+"/transaction",n);case 5:r=e.sent,t({type:"GET_TRANSACTIONS_SUCCESS",payload:{transactions:r.data.data}}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),c=null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l||null===(o=l.data)||void 0===o?void 0:o.errorMessage,t({type:"GET_TRANSACTIONS_FAIL",payload:{error:c}});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()},getEntities:Ne,addMultipleTransactions:function(e){return function(){var t=Object(V.a)(Y.a.mark((function t(a,n){var r,l,o,c,i;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"ADD_MULTIPLE_TRANSACTIONS_LOADING"}),E.b.info("Parsing Completed. \ud83d\ude80 Adding the transactions."),t.prev=2,r=$(n),t.next=6,B.a.post(T+"/transaction/multi",e,r);case 6:l=t.sent,E.b.success("\u2705 Transactions Added Successfully"),a({type:"ADD_MULTIPLE_TRANSACTIONS_SUCCESS",payload:{transactions:l.data.transaction}}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(2),i=(null===t.t0||void 0===t.t0||null===(o=t.t0.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.errorMessage)||"",E.b.error("\u274c Failed to add transactions. "+i),a({type:"ADD_MULTIPLE_TRANSACTIONS_FAIL",payload:{error:i}});case 16:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e,a){return t.apply(this,arguments)}}()}})((function(e){var t=e.transaction,a=e.entity,l=e.getTransactions,o=e.getEntities,c=e.addMultipleTransactions,i=e.editTransactionDialog,s=Object(n.useState)(null),u=Object(le.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(null),f=Object(le.a)(p,2),b=f[0],y=f[1],v=Object(n.useState)(null),g=Object(le.a)(v,2),h=g[0],T=g[1],N=Object(n.useRef)(null),I=Object(n.useRef)(null);Object(n.useEffect)((function(){t.transactions.length||t.isLoading||l(),a.entities.length||a.isLoading||o()}),[]);var C=r.a.createElement("div",{className:"p-card-title p-d-flex p-jc-between"},r.a.createElement("div",null,"List of Transactions"),r.a.createElement("div",{className:"p-d-flex p-flex-wrap"},r.a.createElement(je.FileUpload,{ref:function(e){return I=e},className:"p-mr-2",auto:!0,accept:".csv",chooseLabel:"Import CSV",mode:"basic",customUpload:!0,uploadHandler:function(e,t){E.b.warning("\ud83d\udcc3 File parsing is in progress."),Te.parse(e.files[0],{header:!0,skipEmptyLines:!0,transformHeader:function(e){return w[e]},complete:function(){var e=Object(V.a)(Y.a.mark((function e(t){var a,n,r,l;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I.clear(),t.errors.length||!t.data.length){e.next=16;break}a=0;case 3:if(!(a<t.data.length)){e.next=14;break}return n=t.data[a],e.next=7,Me.isValid(n);case 7:if(e.sent){e.next=11;break}return E.b.error("\u274c Failed to parse file. Some fields at row ".concat(a+2," violate the schema.")),e.abrupt("return");case 11:a++,e.next=3;break;case 14:e.next=25;break;case 16:if(!(t.data.length<=1)){e.next=21;break}return E.b.error("File is empty with no rows."),e.abrupt("return");case 21:return r=t.errors[0].message,l=void 0!==t.errors[0].row?"Error at row:".concat(t.errors[0].row+2,"."):"",E.b.error("\u274c Failed to parse file. ".concat(l," ").concat(r)),e.abrupt("return");case 25:c(t.data);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),error:function(e){I.clear(),E.b.error("\u274c Failed to parse file.")}})}}),r.a.createElement(z.Button,{type:"Button",icon:"pi pi-download",className:"p-button-info p-mr-4",label:"Export CSV",onClick:function(){N.current.exportCSV()}}),r.a.createElement(z.Button,{type:"Button",icon:"pi pi-refresh",tooltip:"Refresh",onClick:l}))),L=function(e){var t=e.field,a=e.options,n="category"===t?[d,m]:"paymentStatus"===t?[b,y]:[h,T],l=Object(le.a)(n,2),o=l[0],c=l[1];return r.a.createElement(_e.MultiSelect,{value:o,options:a,onChange:function(e){N.current.filter(e.value,t,"in"),c(e.value)},optionLabel:"label",optionValue:"value",placeholder:"All",className:"p-column-filter"})};return r.a.createElement(O.Card,{title:C},t.error&&r.a.createElement(ae.Message,{severity:"error",text:t.error,style:{display:"block"}}),a.error&&r.a.createElement(ae.Message,{severity:"error",text:a.error,style:{display:"block"}}),!(t.error||a.error)&&(t.isLoading||a.isLoading)&&r.a.createElement(be,null),!(t.error||a.error)&&!(t.isLoading||a.isLoading)&&r.a.createElement(Ae.DataTable,{ref:N,value:t.transactions,paginator:!0,rows:5,sortMode:"multiple",removableSort:!0,emptyMessage:"No transactions found.",exportFilename:"Transactions"},r.a.createElement(Ie.Column,{field:"entityId",header:"Entity",body:function(e){var t=e.entityId,n=a.entitiesMap[t];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,n.name))},sortable:!0,filter:!0,filterMatchMode:"custom",filterFunction:function(e,t){return a.entitiesMap[e].name.toLowerCase().includes(t.toLowerCase())},filterPlaceholder:"Search by entity"}),r.a.createElement(Ie.Column,{field:"amount",header:"Amount",sortable:!0,filter:!0,filterMatchMode:"contains",filterPlaceholder:"Search by amount"}),r.a.createElement(Ie.Column,{field:"paymentStatus",header:"Payment Status",body:Ge,sortable:!0,filter:!0,filterMatchMode:"contains",filterElement:r.a.createElement(L,{field:"paymentStatus",options:A})}),r.a.createElement(Ie.Column,{field:"paymentMode",header:"Payment Mode",body:Re,sortable:!0,filter:!0,filterMatchMode:"contains",filterElement:r.a.createElement(L,{field:"paymentMode",options:S})}),r.a.createElement(Ie.Column,{field:"category",header:"Category",body:function(e){var t=e.category;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,j[t]))},sortable:!0,filter:!0,filterMatchMode:"contains",filterElement:r.a.createElement(L,{field:"category",options:_})}),r.a.createElement(Ie.Column,{field:"time",header:"Time of Transaction",body:function(e){var t=e.time,a=new Date(t).toString();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,a))},sortable:!0}),r.a.createElement(Ie.Column,{body:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.Button,{icon:"pi pi-pencil",className:"p-button-outlined p-button-info",iconPos:"left",label:"Edit",onClick:function(){return i(e)}}))}})))})),Ve=(a(223),function(e){var t=e.className,a=e.styles,n=e.addEntityDialog,l=e.addTransactionDialog;e.addMultipleItemsDialog;return r.a.createElement("nav",{className:"fab-container p-d-flex  p-flex-column-reverse ".concat(t),style:a},r.a.createElement(z.Button,{icon:"pi pi-plus",className:"fab-action-item p-button-raised p-button-rounded p-button-warning p-mt-2 p-ml-auto p-mr-auto",style:{height:"4rem",width:"4rem",fontSize:"2rem"}}),r.a.createElement(z.Button,{className:"fab-item p-mt-2 bg-green-gradient text-white",label:"Add Transaction",onClick:function(){return l()}}),r.a.createElement(z.Button,{className:"fab-item p-mt-2 bg-green-gradient text-white",label:"Add Entity",onClick:function(){return n()}}))}),He=a(68),Be=a(96),qe=a(141),We=a(80),$e=function(e){var t=e.isSubmitting;return r.a.createElement("div",null,r.a.createElement(z.Button,{label:"Save",icon:"pi ".concat(t?"pi-spin pi-spinner":"pi-save"),type:"submit",disabled:t}))},ze=a(70),Xe=Object(s.b)((function(e){return{entity:e.entity,transaction:e.transaction}}),{addTransaction:function(e){return function(){var t=Object(V.a)(Y.a.mark((function t(a,n){var r,l,o,c,i;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"ADD_TRANSACTION_LOADING"}),t.prev=1,r=$(n),t.next=5,B.a.post(T+"/transaction",e,r);case 5:l=t.sent,E.b.success("\u2705 Transaction Added Successfully"),a({type:"ADD_TRANSACTION_SUCCESS",payload:{transaction:l.data.transaction}}),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(1),i=(null===t.t0||void 0===t.t0||null===(o=t.t0.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.errorMessage)||"",E.b.error("\u274c Failed to add transaction. "+i),a({type:"ADD_TRANSACTION_FAIL",payload:{error:i}});case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,a){return t.apply(this,arguments)}}()},editTransaction:function(e,t){return function(){var a=Object(V.a)(Y.a.mark((function a(n,r){var l,o,c,i,s;return Y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"EDIT_TRANSACTION_LOADING",payload:{id:e}}),a.prev=1,l=$(r),a.next=5,B.a.patch(T+"/transaction/"+e,t,l);case 5:o=a.sent,E.b.success("\u2705 Transaction Edited Successfully"),n({type:"EDIT_TRANSACTION_SUCCESS",payload:{transaction:o.data.data}}),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(1),s=(null===a.t0||void 0===a.t0||null===(c=a.t0.response)||void 0===c||null===(i=c.data)||void 0===i?void 0:i.errorMessage)||"",E.b.error("\u274c Failed to edit transaction. "+s),n({type:"EDIT_TRANSACTION_FAIL",payload:{error:s}});case 15:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()},getEntities:Ne})((function(e){var t=e.entity.entities,a=e.getEntities,l=e.addTransaction,o=e.editTransaction,c=e.transaction.isUpdating,i=e.visible,s=e.onHide,u=e.initialValues,d=e.isEdit;Object(n.useEffect)((function(){a()}),[]),u.time=new Date(u.time);var m=Object(ze.a)({initialValues:u,validationSchema:Me,onSubmit:function(){var e=Object(V.a)(Y.a.mark((function e(t,a){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setSubmitting,n=a.resetForm,e.next=3,d?o(u.id,t):l(t);case 3:n(),s(!1);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),enableReinitialize:!0});return r.a.createElement("form",{onSubmit:m.handleSubmit},r.a.createElement(He.Dialog,{header:"".concat(d?"Edit Transaction":"Add New Transaction"),visible:i,style:{width:"50vw"},footer:r.a.createElement($e,{isSubmitting:c}),onHide:function(){s(!1)},dismissableMask:!0},r.a.createElement("div",{className:"p-fluid p-formgrid p-grid"},r.a.createElement("div",{className:"p-field p-col-12 p-md-6 p-mb-4"},r.a.createElement("label",{htmlFor:"amount"},"Amount"),r.a.createElement(qe.InputNumber,Object.assign({id:"amount",mode:"currency",currency:"INR",placeholder:"Enter the transaction amount"},m.getFieldProps("amount"),{onChange:function(e){e.value&&m.setFieldValue("amount",e.value)}})),m.touched.amount&&m.errors.amount?r.a.createElement("small",{id:"amount-help",className:"p-error p-d-block"},m.errors.amount):null),r.a.createElement("div",{className:"p-field p-col-12 p-md-6 p-mb-4"},r.a.createElement("label",{htmlFor:"time"},"Date/Time"),r.a.createElement(Ee.Calendar,Object.assign({inputId:"time",showTime:!0,hourFormat:"24",hideOnDateTimeSelect:!0,placeholder:"Select date/time of transaction",showIcon:!0,baseZIndex:1,appendTo:document.body},m.getFieldProps("time"))),m.touched.time&&m.errors.time?r.a.createElement("small",{id:"time-help",className:"p-error p-d-block"},m.errors.time):null),r.a.createElement("div",{className:"p-field p-col-12 p-md-6 p-mb-4"},r.a.createElement("label",{htmlFor:"paymentStatus"},"Select Transaction Status"),r.a.createElement(We.Dropdown,Object.assign({filter:!0,inputId:"paymentStatus",options:A,placeholder:"Select status for the transaction"},m.getFieldProps("paymentStatus"))),m.touched.paymentStatus&&m.errors.paymentStatus?r.a.createElement("small",{id:"paymentStatus-help",className:"p-error p-d-block"},m.errors.paymentStatus):null),r.a.createElement("div",{className:"p-field p-col-12 p-md-6 p-mb-4"},r.a.createElement("label",{htmlFor:"paymentMode"},"Select Transaction Mode"),r.a.createElement(We.Dropdown,Object.assign({filter:!0,inputId:"paymentMode",options:S,placeholder:"Select mode of the transaction"},m.getFieldProps("paymentMode"))),m.touched.paymentMode&&m.errors.paymentMode?r.a.createElement("small",{id:"paymentMode-help",className:"p-error p-d-block"},m.errors.paymentMode):null),r.a.createElement("div",{className:"p-field p-col-12 p-md-6 p-mb-4"},r.a.createElement("label",{htmlFor:"category"},"Select Category"),r.a.createElement(We.Dropdown,Object.assign({filter:!0,inputId:"category",options:_,placeholder:"Select a category for transaction"},m.getFieldProps("category"))),m.touched.category&&m.errors.category?r.a.createElement("small",{id:"category-help",className:"p-error p-d-block"},m.errors.category):null),r.a.createElement("div",{className:"p-field p-col-12 p-md-6 p-mb-4"},r.a.createElement("label",{htmlFor:"entityId"},"Select Entity"),r.a.createElement(We.Dropdown,Object.assign({filter:!0,inputId:"entityId",options:t,optionLabel:"name",optionValue:"id",itemTemplate:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-text-bold"},e.name),r.a.createElement("div",{className:"p-text-light"},e.address," | ",e.contact))},filterBy:"name,address",placeholder:"Select an entity",baseZIndex:1,appendTo:document.body},m.getFieldProps("entityId"))),m.touched.entityId&&m.errors.entityId?r.a.createElement("small",{id:"entityId-help",className:"p-error p-d-block"},m.errors.entityId):null),r.a.createElement("div",{className:"p-field p-col-12"},r.a.createElement("label",{htmlFor:"remarks"},"Remarks(optional)"),r.a.createElement(Be.InputTextarea,Object.assign({id:"remarks",type:"text",rows:"3"},m.getFieldProps("remarks"))),m.touched.remarks&&m.errors.remarks?r.a.createElement("small",{id:"remarks-help",className:"p-error p-d-block"},m.errors.remarks):null)),r.a.createElement(Q.Divider,null)))})),Je=a(53),Qe=se.c({name:se.d().max(200,"Name cannot be longer than 200 characters").required("Name cannot be left empty").matches(/^[^0-9]+.*/,"Name should not begin with a number"),address:se.d().required("Address cannot be left empty"),contact:se.d().required("Contact cannot be left empty").matches(/^[0-9]+$/,"Invalid contact number")}),Ze=Object(s.b)((function(e){return{entity:e.entity}}),{addEntity:Se,editEntity:function(e,t){return function(){var a=Object(V.a)(Y.a.mark((function a(n,r){var l,o,c,i,s;return Y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"EDIT_ENTITY_LOADING",payload:{id:e}}),a.prev=1,l=$(r),a.next=5,B.a.patch(T+"/entity/"+e,t,l);case 5:o=a.sent,E.b.success("\u2705 Entity Edited Successfully"),n({type:"EDIT_ENTITY_SUCCESS",payload:{entity:o.data.data}}),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(1),s=(null===a.t0||void 0===a.t0||null===(c=a.t0.response)||void 0===c||null===(i=c.data)||void 0===i?void 0:i.errorMessage)||"",E.b.error("\u274c Failed to edit entity. "+s),n({type:"EDIT_ENTITY_FAIL",payload:{error:s}});case 15:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}()}})((function(e){var t=e.addEntity,a=e.editEntity,n=e.entity,l=n.isUpdating,o=(n.error,e.visible),c=e.onHide,i=e.initialValues,s=e.isEdit,u=Object(ze.a)({initialValues:i,validationSchema:Qe,onSubmit:function(){var e=Object(V.a)(Y.a.mark((function e(n,r){var l;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setSubmitting,l=r.resetForm,e.next=3,s?a(i.id,n):t(n);case 3:l(),c(!1);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),enableReinitialize:!0});return r.a.createElement("form",{onSubmit:u.handleSubmit},r.a.createElement(He.Dialog,{header:"".concat(s?"Edit Entity":"Add New Entity"),visible:o,style:{width:"50vw"},footer:r.a.createElement($e,{isSubmitting:l}),onHide:function(){return c(!1)},dismissableMask:!0},r.a.createElement("div",{className:"p-fluid p-formgrid p-grid"},r.a.createElement("div",{className:"p-field p-col-12"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement(Je.InputText,Object.assign({id:"name",type:"text",placeholder:"Enter a name for the entity"},u.getFieldProps("name"))),u.touched.name&&u.errors.name?r.a.createElement("small",{id:"name-help",className:"p-error p-d-block"},u.errors.name):null),r.a.createElement("div",{className:"p-field p-col-12"},r.a.createElement("label",{htmlFor:"contact"},"Contact Number"),r.a.createElement(Je.InputText,Object.assign({id:"contact",type:"text",placeholder:"Enter entity's contact number"},u.getFieldProps("contact"))),u.touched.contact&&u.errors.contact?r.a.createElement("small",{id:"contact-help",className:"p-error p-d-block"},u.errors.contact):null),r.a.createElement("div",{className:"p-field p-col-12"},r.a.createElement("label",{htmlFor:"address"},"Address"),r.a.createElement(Be.InputTextarea,Object.assign({id:"address",type:"text",rows:"3",placeholder:"Enter entity's address"},u.getFieldProps("address"))),u.touched.address&&u.errors.address?r.a.createElement("small",{id:"address-help",className:"p-error p-d-block"},u.errors.address):null)),r.a.createElement(Q.Divider,null)))})),Ke=a(108),et=function(e){var t=e.items.map((function(e){var t=e.header,a=e.content;return r.a.createElement(Ke.TabPanel,{key:t,header:t},a)}));return r.a.createElement(Ke.TabView,null,t)},tt=Object(s.b)((function(e){return{entity:e.entity}}),{getEntities:Ne})((function(e){var t=e.entity,a=t.isLoading,l=(t.isUpdating,t.entities),o=t.error,c=e.getEntities,i=e.editEntityDialog,s=Object(n.useRef)(null),u=r.a.createElement("div",{className:"p-card-title p-d-flex"},"List of Entities",r.a.createElement(z.Button,{type:"Button",icon:"pi pi-refresh",className:"p-ml-auto",tooltip:"Refresh",onClick:c}));return r.a.createElement(O.Card,{title:u},o&&r.a.createElement(ae.Message,{severity:"error",text:o,style:{display:"block"}}),!o&&a&&r.a.createElement(be,null),!o&&!a&&r.a.createElement(Ae.DataTable,{ref:s,value:l,paginator:!0,rows:5,sortMode:"multiple",removableSort:!0,emptyMessage:"No entities found."},r.a.createElement(Ie.Column,{field:"name",header:"Name",sortable:!0,filter:!0,filterMatchMode:"contains",filterPlaceholder:"Search by name"}),r.a.createElement(Ie.Column,{field:"address",header:"Address",sortable:!0,filter:!0,filterMatchMode:"contains",filterPlaceholder:"Search by address"}),r.a.createElement(Ie.Column,{field:"contact",header:"Contact Number",sortable:!0,filter:!0,filterMatchMode:"contains",filterPlaceholder:"Search by contact"}),r.a.createElement(Ie.Column,{body:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.Button,{icon:"pi pi-pencil",className:"p-button-outlined p-button-info",iconPos:"left",label:"Edit",onClick:function(){return i(e)}}))}})))})),at=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(je.FileUpload,{customUpload:!0,uploadHandler:function(e){console.log(e)},mode:"basic",emptyTemplate:r.a.createElement("p",{className:"p-m-0"},"Drag and drop files to here to upload.")}))},nt=Object(s.b)((function(e){return{entity:e.entity,transaction:e.transaction}}),{addEntity:Se})((function(e){e.addEntity;var t=e.entity,a=e.transaction,n=e.visible,l=e.onHide,o=e.isEntity,c=o?t.isUpdating:a.isUpdating;return r.a.createElement(He.Dialog,{header:"Add Multiple ".concat(o?"Entities":"Transactions"),visible:n,style:{width:"50vw"},footer:r.a.createElement($e,{isSubmitting:c}),onHide:function(){return l(!1)},dismissableMask:!0},r.a.createElement(at,null),r.a.createElement(Q.Divider,null))})),rt=function(){var e=Object(n.useState)(!1),t=Object(le.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(!1),c=Object(le.a)(o,2),i=c[0],s=c[1],u=Object(n.useState)(!1),d=Object(le.a)(u,2),m=d[0],p=d[1],E=Object(n.useState)({}),f=Object(le.a)(E,2),b=f[0],y=f[1],v=Object(n.useState)(!1),g=Object(le.a)(v,2),h=g[0],O=g[1],T=Object(n.useState)({}),S=Object(le.a)(T,2),N=S[0],A=S[1],I=Object(n.useState)(!1),_=Object(le.a)(I,2),j=_[0],C=_[1],w=Object(n.useState)(!1),k=Object(le.a)(w,2),x=k[0],U=k[1],F=function(e){O(!!e),y(e||L),l(!0)},M=function(e){C(!!e),A(e||D),s(!0)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"p-grid nested-grid p-mb-3"},r.a.createElement("div",{className:"p-col-12 p-lg-12"},r.a.createElement(ye,null)),r.a.createElement("div",{className:"p-col-12 p-lg-6"},r.a.createElement(he,null)),r.a.createElement("div",{className:"p-col-12 p-lg-6"},r.a.createElement(Oe,null))),r.a.createElement(et,{items:[{header:"Transactions",content:r.a.createElement(Ye,{editTransactionDialog:F})},{header:"Entities",content:r.a.createElement(tt,{editEntityDialog:M})}]}),r.a.createElement(Ve,{addTransactionDialog:F,addEntityDialog:M,addMultipleItemsDialog:function(e){U(!!e),p(!0)}}),r.a.createElement(Xe,{visible:a,onHide:l,initialValues:b,isEdit:h}),r.a.createElement(Ze,{visible:i,onHide:s,initialValues:N,isEdit:j}),r.a.createElement(nt,{visible:m,onHide:p,isEntity:x}))},lt=Object(u.d)(P,Object(s.b)((function(e){return{auth:e.auth}})))((function(e){var t=e.auth;return r.a.createElement(te,null,r.a.createElement("div",{style:{marginTop:"1rem"}},t.isAuthenticated?r.a.createElement(r.a.Fragment,null,r.a.createElement(rt,null)):r.a.createElement(re,null)))})),ot=a(142),ct=a.n(ot),it=function(){return r.a.createElement(te,null,r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("img",{src:ct.a,alt:"404_error",width:"500"}),r.a.createElement("p",null,"Go back to"," ",r.a.createElement(c.b,{className:"bold",to:"/"},"Home"))))},st=se.c({name:se.d().max(200,"Name cannot be longer than 200 characters").required("Name cannot be left empty").matches(/^[^0-9]+.*/,"Name should not begin with a number"),companyName:se.d().required("Company cannot be left empty"),emailId:se.d().email().required("Email Id cannot be left empty"),contact:se.d().required("Contact cannot be left empty").matches(/^[0-9]+$/,"Invalid contact number")}),ut=Object(s.b)((function(e){return{auth:e.auth}}),{updateUserInfo:q})((function(e){var t=e.auth,a=t.isUpdating,n=(t.error,e.initialValues),l=Object(ze.a)({initialValues:n,validationSchema:st,onSubmit:function(){var e=Object(V.a)(Y.a.mark((function e(t,a){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setSubmitting,n=a.resetForm,e.next=3,q(t);case 3:n();case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),enableReinitialize:!0});return r.a.createElement("form",{onSubmit:l.handleSubmit},r.a.createElement("div",{className:"profile-image p-my-3 bg-green-gradient"},J(n.name)),r.a.createElement("h1",null,"My Profile"),r.a.createElement("div",{className:"p-fluid p-formgrid p-grid"},r.a.createElement("div",{className:"p-field p-col-6"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement(Je.InputText,Object.assign({id:"name",type:"text",placeholder:"Enter your name"},l.getFieldProps("name"))),l.touched.name&&l.errors.name?r.a.createElement("small",{id:"name-help",className:"p-error p-d-block"},l.errors.name):null),r.a.createElement("div",{className:"p-field p-col-6"},r.a.createElement("label",{htmlFor:"companyName"},"Company Name"),r.a.createElement(Je.InputText,Object.assign({id:"companyName",type:"text",placeholder:"Enter company name"},l.getFieldProps("companyName"))),l.touched.companyName&&l.errors.companyName?r.a.createElement("small",{id:"companyName-help",className:"p-error p-d-block"},l.errors.companyName):null),r.a.createElement("div",{className:"p-field p-col-6"},r.a.createElement("label",{htmlFor:"emailId"},"Email Id"),r.a.createElement(Je.InputText,Object.assign({id:"emailId",type:"text",placeholder:"Enter your email id"},l.getFieldProps("emailId"))),l.touched.emailId&&l.errors.emailId?r.a.createElement("small",{id:"emailId-help",className:"p-error p-d-block"},l.errors.emailId):null),r.a.createElement("div",{className:"p-field p-col-6"},r.a.createElement("label",{htmlFor:"contact"},"Contact Number"),r.a.createElement(Je.InputText,Object.assign({id:"contact",type:"text",placeholder:"Enter entity's contact number"},l.getFieldProps("contact"))),l.touched.contact&&l.errors.contact?r.a.createElement("small",{id:"contact-help",className:"p-error p-d-block"},l.errors.contact):null)),r.a.createElement(Q.Divider,null),r.a.createElement("div",{className:"p-d-flex p-jc-end"},r.a.createElement($e,{isSubmitting:a})))})),dt=Object(u.d)(P,Object(s.b)((function(e){return{auth:e.auth}})))((function(e){var t=e.auth;return r.a.createElement(te,null,r.a.createElement("div",{style:{marginTop:"1rem",marginBottom:"1rem"}},t.isAuthenticated?r.a.createElement(r.a.Fragment,null,r.a.createElement(ut,{initialValues:t.user})):r.a.createElement(re,null)))})),mt=Object(u.d)(Object(s.b)((function(e){return{auth:e.auth}}),{logInUserWithOauth:function(e){return function(){var t=Object(V.a)(Y.a.mark((function t(a,n){var r,l,o,c,i;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"LOGIN_WITH_OAUTH_LOADING"}),t.prev=1,l={"Content-Type":"application/json","x-auth-token":e},t.next=5,B.a.get(T+"/user/me",{headers:l});case 5:o=t.sent,a({type:"LOGIN_WITH_OAUTH_SUCCESS",payload:{user:null===o||void 0===o||null===(r=o.data)||void 0===r?void 0:r.data,token:e}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:"LOGIN_WITH_OAUTH_FAIL",payload:{error:null===t.t0||void 0===t.t0||null===(c=t.t0.response)||void 0===c||null===(i=c.data)||void 0===i?void 0:i.message}});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,a){return t.apply(this,arguments)}}()},loadUser:function(){return function(){var e=Object(V.a)(Y.a.mark((function e(t,a){var n,r,l,o,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"USER_LOADING"}),e.prev=1,r=$(a),e.next=5,B.a.get(T+"/user/me",r);case 5:l=e.sent,t({type:"USER_SUCCESS",payload:{user:null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n.data}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t({type:"USER_FAIL",payload:{error:null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.message}});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()}}))((function(e){var t=e.logInUserWithOauth,a=e.auth,l=e.loadUser;return Object(n.useEffect)((function(){l()}),[l]),Object(n.useEffect)((function(){"#_=_"===window.location.hash&&(window.location.hash="");var e=p.a.get("x-auth-cookie");e&&(p.a.remove("x-auth-cookie"),t(e))}),[]),Object(n.useEffect)((function(){a.appLoaded||a.isLoading||!a.token||a.isAuthenticated||l()}),[a.isAuthenticated,a.token,l,a.isLoading,a.appLoaded]),r.a.createElement(r.a.Fragment,null,a.appLoaded?r.a.createElement(r.a.Fragment,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/login",component:k}),r.a.createElement(i.b,{path:"/user",component:dt}),r.a.createElement(i.b,{exact:!0,path:"/",component:lt}),r.a.createElement(i.b,{component:it})),r.a.createElement(E.a,{hideProgressBar:!0,pauseOnFocusLoss:!1})):r.a.createElement(be,null))})),pt=(a(228),a(229),a(230),a(231),a(232),a(233),{token:localStorage.getItem("token"),isAuthenticated:!1,isLoading:!1,isUpdating:!1,user:null,error:null,appLoaded:!1}),Et=a(78),ft={entities:[],entitiesMap:{},isLoading:!1,isUpdating:!1,error:null},bt={transactions:[],isLoading:!1,isUpdating:!1,error:null},yt={trends:null,isTrendsLoading:!1,trendsError:null},vt={entityAnalytics:null,isEntityAnalyticsLoading:!1,entityAnalyticsError:null},gt={cashflowAnalytics:null,isCashflowAnalyticsLoading:!1,cashflowAnalyticsError:null},ht=Object(u.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"USER_LOADING":return Object(ce.a)(Object(ce.a)({},e),{},{isLoading:!0,appLoaded:!1,error:null});case"USER_UPDATE_LOADING":return Object(ce.a)(Object(ce.a)({},e),{},{isUpdating:!0});case"LOGIN_WITH_OAUTH_LOADING":return Object(ce.a)(Object(ce.a)({},e),{},{isLoading:!0,error:null});case"LOGIN_WITH_OAUTH_SUCCESS":return localStorage.setItem("token",n.token),Object(ce.a)(Object(ce.a)({},e),{},{isAuthenticated:!0,isLoading:!1,token:n.token,user:n.user,error:null});case"USER_SUCCESS":return Object(ce.a)(Object(ce.a)({},e),{},{isAuthenticated:!0,isLoading:!1,user:n.user,error:null,appLoaded:!0});case"USER_UPDATE_SUCCESS":return Object(ce.a)(Object(ce.a)({},e),{},{isUpdating:!1,user:n.user});case"USER_FAIL":return localStorage.removeItem("token"),Object(ce.a)(Object(ce.a)({},e),{},{isAuthenticated:!1,isLoading:!1,user:null,error:null,appLoaded:!0});case"USER_UPDATE_FAIL":return Object(ce.a)(Object(ce.a)({},e),{},{isUpdating:!1});case"LOGOUT_SUCCESS":return localStorage.removeItem("token"),Object(ce.a)(Object(ce.a)({},e),{},{token:null,user:null,isAuthenticated:!1,isLoading:!1,error:null});default:return e}},entity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_ENTITIES_LOADING":return Object(ce.a)(Object(ce.a)({},e),{},{isLoading:!0});case"EDIT_ENTITY_LOADING":case"DELETE_ENTITY_LOADING":case"ADD_ENTITY_LOADING":return Object(ce.a)(Object(ce.a)({},e),{},{isUpdating:!0});case"GET_ENTITIES_SUCCESS":return Object(ce.a)(Object(ce.a)({},e),{},{isLoading:!1,entities:n.entities,entitiesMap:n.entities.reduce((function(e,t){return e[t.id]=t,e}),{})});case"ADD_ENTITY_SUCCESS":return Object(ce.a)(Object(ce.a)({},e),{},{isUpdating:!1,entities:[n.entity].concat(Object(ie.a)(e.entities)),entitiesMap:Object(ce.a)(Object(Et.a)({},n.entity.id,n.entity),e.entitiesMap)});case"DELETE_ENTITY_SUCCESS":return Object(ce.a)(Object(ce.a)({},e),{},{isUpdating:!1,entities:e.entities.filter((function(e){return e.id!==n.entity.id}))});case"EDIT_ENTITY_SUCCESS":return Object(ce.a)(Object(ce.a)({},e),{},{isUpdating:!1,entities:e.entities.map((function(e){return e.id===n.entity.id?n.entity:e})),entitiesMap:Object(ce.a)(Object(Et.a)({},n.entity.id,n.entity),e.entitiesMap)});case"DELETE_ENTITY_FAIL":case"EDIT_ENTITY_FAIL":case"ADD_ENTITY_FAIL":return Object(ce.a)(Object(ce.a)({},e),{},{isUpdating:!1});case"GET_ENTITIES_FAIL":return Object(ce.a)(Object(ce.a)({},e),{},{isLoading:!1});default:return e}},transaction:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_TRANSACTIONS_LOADING":return Object(ce.a)(Object(ce.a)({},e),{},{isLoading:!0});case"EDIT_TRANSACTION_LOADING":case"DELETE_TRANSACTION_LOADING":case"ADD_TRANSACTION_LOADING":case"ADD_MULTIPLE_TRANSACTIONS_LOADING":return Object(ce.a)(Object(ce.a)({},e),{},{isUpdating:!0});case"GET_TRANSACTIONS_SUCCESS":return Object(ce.a)(Object(ce.a)({},e),{},{isLoading:!1,transactions:n.transactions});case"ADD_TRANSACTION_SUCCESS":return Object(ce.a)(Object(ce.a)({},e),{},{isUpdating:!1,transactions:[n.transaction].concat(Object(ie.a)(e.transactions))});case"ADD_MULTIPLE_TRANSACTIONS_SUCCESS":return Object(ce.a)(Object(ce.a)({},e),{},{isUpdating:!1,transactions:[].concat(Object(ie.a)(n.transactions),Object(ie.a)(e.transactions))});case"DELETE_TRANSACTION_SUCCESS":return Object(ce.a)(Object(ce.a)({},e),{},{isUpdating:!1,transactions:e.transactions.filter((function(e){return e.id!==n.transaction.id}))});case"EDIT_TRANSACTION_SUCCESS":return Object(ce.a)(Object(ce.a)({},e),{},{isUpdating:!1,transactions:e.transactions.map((function(e){return e.id===n.transaction.id?n.transaction:e}))});case"DELETE_TRANSACTION_FAIL":case"EDIT_TRANSACTION_FAIL":case"ADD_TRANSACTION_FAIL":case"ADD_MULTIPLE_TRANSACTIONS_FAIL":return Object(ce.a)(Object(ce.a)({},e),{},{isUpdating:!1});case"GET_TRANSACTIONS_FAIL":return Object(ce.a)(Object(ce.a)({},e),{},{isLoading:!1});default:return e}},analytics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_TRENDS_LOADING":return Object(ce.a)(Object(ce.a)({},e),{},{isTrendsLoading:!0});case"GET_TRENDS_SUCCESS":return Object(ce.a)(Object(ce.a)({},e),{},{isTrendsLoading:!1,trends:n.analytics});case"GET_TRENDS_FAIL":return Object(ce.a)(Object(ce.a)({},e),{},{isTrendsLoading:!1,trendsError:n.error});default:return e}},entityAnalytics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_ENTITY_ANALYTICS_LOADING":return Object(ce.a)(Object(ce.a)({},e),{},{isEntityAnalyticsLoading:!0});case"GET_ENTITY_ANALYTICS_SUCCESS":return Object(ce.a)(Object(ce.a)({},e),{},{isEntityAnalyticsLoading:!1,entityAnalytics:n.analytics});case"GET_ENTITY_ANALYTICS_FAIL":return Object(ce.a)(Object(ce.a)({},e),{},{isEntityAnalyticsLoading:!1,entityAnalyticsError:n.error});default:return e}},cashflowAnalytics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_CASHFLOW_ANALYTICS_LOADING":return Object(ce.a)(Object(ce.a)({},e),{},{isCashflowAnalyticsLoading:!0});case"GET_CASHFLOW_ANALYTICS_SUCCESS":return Object(ce.a)(Object(ce.a)({},e),{},{isCashflowAnalyticsLoading:!1,cashflowAnalytics:n.analytics});case"GET_CASHFLOW_ANALYTICS_FAIL":return Object(ce.a)(Object(ce.a)({},e),{},{isCashflowAnalyticsLoading:!1,cashflowAnalyticsError:n.error});default:return e}}}),Ot=Object(u.e)(ht,{},Object(u.d)(Object(u.a)(d.a),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__()||u.d));o.a.render(r.a.createElement(s.a,{store:Ot},r.a.createElement(c.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",component:mt})))),document.getElementById("root"))},76:function(e,t,a){e.exports=a.p+"static/media/placeholder.a24fb888.png"},83:function(e,t,a){e.exports=a.p+"static/media/logo.b358106f.png"}},[[146,1,2]]]);
//# sourceMappingURL=main.80c30d98.chunk.js.map